{"version":3,"sources":["styles/Button.module.css","assets/logo.png","api/axiosDefaults.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/NavBar.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","utils/utils.js","pages/posts/PostPage.js","contexts/UserDataContext.js","pages/users/User.js","pages/users/PopularUsers.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","App.js","reportWebVitals.js","index.js","App.module.css","styles/SignInUpForm.module.css","styles/NavBar.module.css","styles/CommentCreateEditForm.module.css","styles/Post.module.css","styles/PostCreateEditForm.module.css","styles/MoreDropdown.module.css","styles/Comment.module.css","styles/PostsPage.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/User.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","interceptors","request","use","config","token","localStorage","getItem","error","Promise","reject","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","handleMount","useCallback","async","data","get","Authorization","setItem","id","err","response","status","refreshToken","newAccessToken","refresh","access","removeItem","push","console","log","useEffect","_jsx","Provider","value","Avatar","src","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","addPostIcon","NavLink","activeClassName","Active","to","loggedInIcons","_Fragment","onClick","user_id","profile_picture","loggedOutIcons","Navbar","expand","fixed","Container","Brand","logo","Toggle","Collapse","Nav","exact","SignUpForm","_errors$username","_errors$email","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","username","email","password1","password2","errors","setErrors","handleChange","name","Row","Col","md","appStyles","Content","Header","Form","onSubmit","preventDefault","_err$response","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignUpCol","Image","FillerImage","SignInForm","signInData","setSignInData","password","res","userData","SignInCol","Asset","spinner","Spinner","animation","PostCreateForm","_errors$title","_errors$game","_errors$content","_errors$image","postData","setPostData","title","game","content","image","imageInput","imagePreview","setImagePreview","textFields","as","rows","Blue","goBack","formData","FormData","authorId","parseInt","append","files","_err$response2","lg","style","maxHeight","objectFit","uploadButton","htmlFor","accept","length","file","URL","createObjectURL","ThreeDots","React","forwardRef","e","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","Post","props","author","updated_at","likes","likes_count","has_liked","comments_count","postPage","setPost","is_author","Card","Body","Media","delete","Img","Title","Text","PostBar","OverlayTrigger","placement","overlay","Tooltip","prevPosts","results","Heart","HeartOutline","CommentCreateForm","setComments","profilePicture","setContent","prevComments","prevPost","InputGroup","disabled","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","put","comment","Comment","showEditForm","Author","Date","Math","max","filter","fetchMoreData","resource","setResource","next","prevResource","reduce","acc","cur","some","accResult","PostPage","useParams","comments","commentsData","all","InfiniteScroll","dataLength","hasMore","loader","UserDataContext","SetUserDataContext","UserDataProvider","setUserData","pageUser","popularUsers","prevState","Array","isArray","User","user","mobile","imageSize","following_id","WordBreak","BlackOutline","PopularUsers","hasUsers","slice","PostsPage","posts","setPosts","hasLoaded","setHasLoaded","pathname","useLocation","query","setQuery","timer","setTimeout","params","search","fetchPosts","clearTimeout","SearchIcon","SearchBar","PostEditForm","_imageInput$current","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","getElementById"],"mappings":"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","file":"static/js/main.313695f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Hx1S\",\"Wide\":\"Button_Wide__hPrmt\",\"Blue\":\"Button_Blue__2PttK\",\"BlueOutline\":\"Button_BlueOutline__3ZnJG\",\"Bright\":\"Button_Bright__FGIXu\",\"Black\":\"Button_Black__-SJKz\",\"BlackOutline\":\"Button_BlackOutline__v9BnJ\",\"uploadButton\":\"Button_uploadButton__35bzt\"};","export default __webpack_public_path__ + \"static/media/logo.67d1f052.png\";","import axios from \"axios\";\r\n\r\nconst apiUrl = process.env.NODE_ENV === \"development\"\r\n    ? \"http://127.0.0.1:8000\"\r\n    : \"https://gamebits-579c6fd85599.herokuapp.com\";\r\n\r\naxios.defaults.baseURL = `${apiUrl}/api/`;\r\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\naxios.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem(\"access_token\");\r\n    if (token) {\r\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n}, (error) => {\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default axios;","import { createContext, useContext, useEffect, useState, useCallback } from \"react\";\r\nimport axios from '../api/axiosDefaults';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const history = useHistory();\r\n    const baseURL = axios.defaults.baseURL;\r\n\r\n    const handleMount = useCallback(async () => {\r\n        try {\r\n            let token = localStorage.getItem('access_token');\r\n            if (token) {\r\n                try {\r\n                    const { data } = await axios.get(`${baseURL}/users/current`, {\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    });\r\n                    localStorage.setItem('user_id', data.id);\r\n                    setCurrentUser(data);\r\n                } catch (err) {\r\n                    if (err.response && err.response.status === 401) {\r\n                        const refreshToken = localStorage.getItem('refresh_token');\r\n                        if (refreshToken) {\r\n                            const response = await axios.post(`${baseURL}/token/refresh/`, { refresh: refreshToken });\r\n                            const newAccessToken = response.data.access;\r\n                            localStorage.setItem('access_token', newAccessToken);\r\n                            const { data } = await axios.get(`${baseURL}/users/current/`, {\r\n                                headers: {\r\n                                    Authorization: `Bearer ${newAccessToken}`,\r\n                                },\r\n                            });\r\n                            setCurrentUser(data);\r\n                        }\r\n                    } else {\r\n                        localStorage.removeItem('access_token');\r\n                        localStorage.removeItem('refresh_token');\r\n                        setCurrentUser(null);\r\n                        history.push('/signin');\r\n                    }\r\n                }\r\n            } else {\r\n                console.log(\"No token found\");\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [baseURL, history]);\r\n\r\n    useEffect(() => {\r\n        handleMount();\r\n    }, [handleMount]);\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n                {children}\r\n            </SetCurrentUserContext.Provider>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport styles from '../styles/Avatar.module.css';\r\n\r\nconst Avatar = ({ src, height = 45, text }) => {\r\n    return (\r\n        <span>\r\n            <img\r\n                className={styles.Avatar}\r\n                src={src}\r\n                height={height}\r\n                width={height}\r\n                alt=\"avatar\"\r\n            />\r\n            {text}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Avatar","import { useEffect, useRef, useState } from 'react'\r\n\r\nconst useClickOutsideToggle = () => {\r\n    const [expanded, setExpanded] = useState(false);\r\n    const ref = useRef(null);\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                setExpanded(false)\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mouseup', handleClickOutside)\r\n        return () => {\r\n            document.removeEventListener('mouseup', handleClickOutside)\r\n        };\r\n    }, [ref]);\r\n\r\n    return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;","import React from 'react';\r\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport logo from \"../assets/logo.png\";\r\nimport styles from \"../styles/NavBar.module.css\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport {\r\n    useCurrentUser,\r\n    useSetCurrentUser,\r\n} from '../contexts/CurrentUserContext';\r\nimport Avatar from './Avatar';\r\nimport useClickOutsideToggle from '../hooks/useClickOutsideToggle';\r\n\r\nconst NavBar = () => {\r\n    const currentUser = useCurrentUser();\r\n    const setCurrentUser = useSetCurrentUser();\r\n    const history = useHistory();\r\n\r\n    const {expanded, setExpanded, ref} = useClickOutsideToggle();\r\n\r\n    const handleSignOut = async () => {\r\n        localStorage.removeItem(\"access_token\");\r\n        localStorage.removeItem(\"refresh_token\");\r\n        setCurrentUser(null);\r\n        history.push(\"/signin\");\r\n    };\r\n\r\n    const addPostIcon = (\r\n        <NavLink\r\n            className={styles.NavLink}\r\n            activeClassName={styles.Active}\r\n            to=\"/posts/create\"\r\n        >\r\n            <i className=\"fa-solid fa-circle-plus\"></i>New Post\r\n        </NavLink>\r\n    );\r\n\r\n    const loggedInIcons = (\r\n        <>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/follow\"\r\n            >\r\n                <i className=\"fa-solid fa-walkie-talkie\"></i>Feed\r\n            </NavLink>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/likes\"\r\n            >\r\n                <i className=\"fa-solid fa-heart\"></i>Liked\r\n            </NavLink>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                to=\"/\"\r\n                onClick={handleSignOut}\r\n            >\r\n                <i className=\"fa-solid fa-door-open\"></i>Sign Out\r\n            </NavLink>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                to={`/users/${currentUser?.user_id}`}\r\n            >\r\n                <Avatar src={currentUser?.profile_picture} text=\"Profile\" height=\"40\" />\r\n            </NavLink>\r\n        </>\r\n    );\r\n\r\n    const loggedOutIcons = (\r\n        <>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/signin\"\r\n            >\r\n                <i className=\"fas fa-sign-in-alt\"></i>Sign In\r\n            </NavLink>\r\n            <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/signup\"\r\n            >\r\n                <i className=\"fas fa-user-plus\"></i>Sign Up\r\n            </NavLink>\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <Navbar\r\n            expanded={expanded}\r\n            className={styles.NavBar}\r\n            expand=\"md\"\r\n            fixed=\"top\"\r\n        >\r\n            <Container className=\"d-flex justify-content-between align-items-center\">\r\n                <NavLink to=\"/\">\r\n                    <Navbar.Brand className=\"mx-auto\">\r\n                        <img src={logo} alt=\"logo\" height=\"45\" />\r\n                    </Navbar.Brand>\r\n                </NavLink>\r\n                {currentUser && addPostIcon}\r\n                <Navbar.Toggle\r\n                    ref={ref}\r\n                    onClick={() => setExpanded(!expanded)}\r\n                    aria-controls=\"basic-navbar-nav\"\r\n                />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"ml-auto text-left\">\r\n                        <NavLink\r\n                            exact\r\n                            className={styles.NavLink}\r\n                            activeClassName={styles.Active}\r\n                            to=\"/\"\r\n                        >\r\n                            <i className=\"fa-solid fa-house-user\"></i>Home\r\n                        </NavLink>\r\n                        {!currentUser && loggedOutIcons}\r\n                        {currentUser && loggedInIcons}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n};\r\n\r\nexport default NavBar;","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";  // Updated import\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport { Form, Button, Image, Col, Row, Container, Alert } from \"react-bootstrap\";\r\nimport axios from \"../../api/axiosDefaults\";\r\n\r\nconst SignUpForm = () => {\r\n    const [signUpData, setSignUpData] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password1: \"\",\r\n        password2: \"\",\r\n    });\r\n    const { username, email, password1, password2 } = signUpData;\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setSignUpData({\r\n            ...signUpData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.post('http://127.0.0.1:8000/api/users/register/', signUpData);\r\n            history.push(\"/signin\");\r\n        } catch (err) {\r\n            setErrors(err.response?.data)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Row className={styles.Row}>\r\n            <Col className=\"my-auto py-2 p-md-2\" md={6}>\r\n                <Container className={`${appStyles.Content} p-4 `}>\r\n                    <h1 className={styles.Header}>sign up</h1>\r\n\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group controlId=\"username\">\r\n                            <Form.Label className=\"d-none\">username</Form.Label>\r\n                            <Form.Control\r\n                                className={styles.Input}\r\n                                type=\"text\"\r\n                                placeholder=\"Username\"\r\n                                name=\"username\"\r\n                                value={username}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.username?.map((message, idx) =>\r\n                            <Alert variant=\"warning\" key={idx}>{message}</Alert>\r\n                        )}\r\n\r\n                        <Form.Group controlId=\"email\">\r\n                            <Form.Label className=\"d-none\">Email</Form.Label>\r\n                            <Form.Control\r\n                                className={styles.Input}\r\n                                type=\"email\"\r\n                                placeholder=\"Email\"\r\n                                name=\"email\"\r\n                                value={email}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.email?.map((message, idx) =>\r\n                            <Alert variant=\"warning\" key={idx}>{message}</Alert>\r\n                        )}\r\n\r\n                        <Form.Group controlId=\"password1\">\r\n                            <Form.Label className=\"d-none\">Password</Form.Label>\r\n                            <Form.Control\r\n                                className={styles.Input}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                name=\"password1\"\r\n                                value={password1}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.password1?.map((message, idx) =>\r\n                            <Alert variant=\"warning\" key={idx}>{message}</Alert>\r\n                        )}\r\n\r\n                        <Form.Group controlId=\"password2\">\r\n                            <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n                            <Form.Control\r\n                                className={styles.Input}\r\n                                type=\"password\"\r\n                                placeholder=\"Confirm password\"\r\n                                name=\"password2\"\r\n                                value={password2}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.password2?.map((message, idx) =>\r\n                            <Alert variant=\"warning\" key={idx}>{message}</Alert>\r\n                        )}\r\n\r\n                        <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`} type=\"submit\">\r\n                            Sign up\r\n                        </Button>\r\n                        {errors.non_field_errors?.map((message, idx) => (\r\n                            <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n                    </Form>\r\n                </Container>\r\n                <Container className={`mt-3 ${appStyles.Content}`}>\r\n                    <Link className={styles.Link} to=\"/signin\">\r\n                        Already have an account? <span>Sign in</span>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            <Col\r\n                md={6}\r\n                className={`my-auto d-none d-md-block p-2 ${styles.SignUpCol}`}\r\n            >\r\n                <Image\r\n                    className={`${appStyles.FillerImage}`}\r\n                    src={\r\n                        \"https://codeinstitute.s3.amazonaws.com/AdvancedReact/hero2.jpg\"\r\n                    }\r\n                />\r\n            </Col>\r\n        </Row>\r\n    );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction SignInForm() {\r\n    const setCurrentUser = useSetCurrentUser();\r\n    const [signInData, setSignInData] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    });\r\n    const { username, password } = signInData;\r\n    const [errors, setErrors] = useState({});\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const res = await axios.post(\"http://127.0.0.1:8000/api/token/\", signInData);\r\n            const { data } = res;\r\n\r\n            localStorage.setItem('access_token', data.access);\r\n            localStorage.setItem('refresh_token', data.refresh);\r\n\r\n            const { data: userData } = await axios.get(\"http://127.0.0.1:8000/api/users/current/\", {\r\n                headers: {\r\n                    Authorization: `Bearer ${data.access}`,\r\n                },\r\n            });\r\n            setCurrentUser(userData);\r\n            history.push(\"/\");;\r\n        } catch (err) {\r\n            setErrors(err.response?.data);\r\n        }\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        setSignInData({\r\n            ...signInData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Row className={styles.Row}>\r\n            <Col className=\"my-auto p-0 p-md-2\" md={6}>\r\n                <Container className={`${appStyles.Content} p-4`}>\r\n                    <h1 className={styles.Header}>Sign In</h1>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group controlId=\"username\">\r\n                            <Form.Label className=\"d-none\">Username</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Username\"\r\n                                name=\"username\"\r\n                                className={styles.Input}\r\n                                value={username}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.username?.map((message, idx) => (\r\n                            <Alert key={idx} variant=\"warning\">\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n\r\n                        <Form.Group controlId=\"password\">\r\n                            <Form.Label className=\"d-none\">Password</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                name=\"password\"\r\n                                className={styles.Input}\r\n                                value={password}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </Form.Group>\r\n                        {errors.password?.map((message, idx) => (\r\n                            <Alert key={idx} variant=\"warning\">\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n                        <Button\r\n                            className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\r\n                            type=\"submit\"\r\n                        >\r\n                            Sign In\r\n                        </Button>\r\n                        {errors.non_field_errors?.map((message, idx) => (\r\n                            <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n                    </Form>\r\n                </Container>\r\n                <Container className={`mt-3 ${appStyles.Content}`}>\r\n                    <Link className={styles.Link} to=\"/signup\">\r\n                        Don't have an account? <span>Sign up now!</span>\r\n                    </Link>\r\n                </Container>\r\n            </Col>\r\n            <Col\r\n                md={6}\r\n                className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\r\n            >\r\n                <Image\r\n                    className={`${appStyles.FillerImage}`}\r\n                    src={\"https://codeinstitute.s3.amazonaws.com/AdvancedReact/hero.jpg\"}\r\n                />\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default SignInForm;","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, message }) => {\r\n    return (\r\n        <div className={`${styles.Asset} p-4`}>\r\n            {spinner && <Spinner animation=\"border\" />}\r\n            {src && <img src={src} alt={message} />}\r\n            {message && <p className=\"mt-4\">{message}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Asset;","import React, { useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nfunction PostCreateForm() {\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [postData, setPostData] = useState({\r\n        title: \"\",\r\n        game: \"\",\r\n        content: \"\",\r\n        image: \"\",\r\n    });\r\n    const { title, game, content, image } = postData;\r\n\r\n    const imageInput = useRef(null);\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setPostData({\r\n            ...postData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const [imagePreview, setImagePreview] = useState(null); // State for image preview\r\n\r\n    const handleChangeImage = (event) => {\r\n        if (event.target.files.length) {\r\n            const file = event.target.files[0];\r\n\r\n            // Set image preview URL\r\n            setImagePreview(URL.createObjectURL(file));\r\n\r\n            setPostData({\r\n                ...postData,\r\n                image: file,\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n    \r\n        const formData = new FormData();\r\n        const authorId = parseInt(localStorage.getItem('user_id'), 10);\r\n    \r\n        formData.append('title', title);\r\n        formData.append('game', game);\r\n        formData.append('content', content);\r\n        formData.append('image', imageInput.current.files[0]);\r\n        formData.append('author', authorId);\r\n        \r\n        try {\r\n            const { data } = await axios.post('/posts/', formData, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('access_token')}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n    \r\n            history.push(`/posts/${data.id}`);\r\n        } catch (err) {\r\n            if (err.response?.status !== 401) {\r\n                setErrors(err.response?.data);\r\n            }\r\n        }\r\n    };\r\n    \r\n\r\n    const textFields = (\r\n        <div className=\"text-center\">\r\n            <Form.Group>\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Type the title of your post...\"\r\n                    value={title}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.title?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n\r\n            <Form.Group>\r\n                <Form.Label>Game</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    name=\"game\"\r\n                    placeholder=\"Type the name of the game...\"\r\n                    value={game}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.game?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n            <Form.Group>\r\n                <Form.Label>Content</Form.Label>\r\n                <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={6}\r\n                    name=\"content\"\r\n                    placeholder=\"Share the story behind your post...\"\r\n                    value={content}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.content?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n\r\n            <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n                onClick={() => history.goBack()}\r\n            >\r\n                cancel\r\n            </Button>\r\n            <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n                create\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Row>\r\n                <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n                    <Container\r\n                        className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n                    >\r\n                        <Form.Group className=\"text-center\">\r\n                            {imagePreview ? (\r\n                                // If image exists, show the preview using Asset\r\n                                <img\r\n                                    src={imagePreview}\r\n                                    alt=\"\"\r\n                                    className=\"img-fluid mb-3\"\r\n                                    style={{ maxHeight: '200', objectFit: 'cover' }}\r\n                                />\r\n                            ) : (\r\n                                // If no image, show upload icon + message via Asset\r\n                                <Asset\r\n                                    message=\"Click or tap to upload an image\"\r\n                                    spinner={false}\r\n                                    src={null}\r\n                                />\r\n                            )}\r\n\r\n                            {/* Upload Button (appears even if image is shown) */}\r\n                            <Form.Label\r\n                                className={`${btnStyles.uploadButton} ${btnStyles.Blue} btn mt-3`}\r\n                                htmlFor=\"image-upload\"\r\n                            >\r\n                                {image ? \"Change the image\" : (\r\n                                    <div className=\"d-flex flex-column align-items-center\">\r\n                                        <i className=\"fa-solid fa-upload fa-3x mb-2\"></i>\r\n                                        Upload an image\r\n                                    </div>\r\n                                )}\r\n                            </Form.Label>\r\n\r\n                            {/* Hidden file input */}\r\n                            <Form.Control\r\n                                id=\"image-upload\"\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleChangeImage}\r\n                                ref={imageInput}\r\n                                className=\"d-none\"\r\n                            />\r\n                        </Form.Group>\r\n                        {errors?.image?.map((message, idx) => (\r\n                            <Alert variant=\"warning\" key={idx}>\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n                        <div className=\"d-md-none\">{textFields}</div>\r\n                    </Container>\r\n                </Col>\r\n                <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n                    <Container className={appStyles.Content}>{textFields}</Container>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default PostCreateForm;","import React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport styles from \"../styles/MoreDropdown.module.css\";\r\n\r\n// The forwardRef is important!!\r\n// Dropdown needs access to the DOM node in order to position the Menu\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n    <i\r\n        className=\"fas fa-ellipsis-v\"\r\n        ref={ref}\r\n        onClick={(e) => {\r\n            e.preventDefault();\r\n            onClick(e);\r\n        }}\r\n    />\r\n));\r\n\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n    return (\r\n        <Dropdown className=\"ml-auto\" drop=\"left\">\r\n            <Dropdown.Toggle as={ThreeDots} />\r\n\r\n            <Dropdown.Menu\r\n                className=\"text-center\"\r\n                popperConfig={{ strategy: \"fixed\" }}\r\n            >\r\n                <Dropdown.Item\r\n                    className={styles.DropdownItem}\r\n                    onClick={handleEdit}\r\n                    aria-label=\"edit\"\r\n                >\r\n                    <i className=\"fas fa-edit\" />\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                    className={styles.DropdownItem}\r\n                    onClick={handleDelete}\r\n                    aria-label=\"delete\"\r\n                >\r\n                    <i className=\"fas fa-trash-alt\" />\r\n                </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n        </Dropdown>\r\n    );\r\n};","import React from \"react\";\r\nimport styles from \"../../styles/Post.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Card, Media, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\n\r\nconst Post = (props) => {\r\n    const {\r\n        id,\r\n        author,\r\n        user_id,\r\n        profile_picture,\r\n        title,\r\n        game,\r\n        content,\r\n        image,\r\n        updated_at,\r\n        likes,\r\n        likes_count,\r\n        has_liked,\r\n        comments_count,\r\n        postPage,\r\n        setPost,\r\n    } = props;\r\n\r\n    const currentUser = useCurrentUser();\r\n    const is_author = currentUser?.username === author;\r\n    const history = useHistory();\r\n\r\n    const handleEdit = () => {\r\n        history.push(`/posts/${id}/edit`)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete(`/posts/${id}/`);\r\n            history.goBack();\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    // Handle like action\r\n    const handleLike = async () => {\r\n        try {\r\n            console.log(\"Post ID being liked:\", id);\r\n            const { data } = await axios.post(`/posts/${id}/like/`);\r\n            console.log(\"Post data after like:\", data);\r\n\r\n            setPost((prevPosts) => ({\r\n                ...prevPosts,\r\n                results: prevPosts.results.map((post) => {\r\n                    return post.id === id\r\n                        ? { ...post, likes_count: data.likes_count, has_liked: data.has_liked }\r\n                        : post;\r\n                }),\r\n            }));\r\n        } catch (err) {\r\n            console.log(\"Error liking post:\", err);\r\n        }\r\n    };\r\n\r\n\r\n    // Handle unlike action\r\n    const handleUnlike = async () => {\r\n        try {\r\n            await axios.delete(`/likes/${likes.id}/`);\r\n            setPost((prevPosts) => ({\r\n                ...prevPosts,\r\n                results: prevPosts.results.map((post) => {\r\n                    return post.id === id\r\n                        ? { ...post, likes_count: post.likes_count - 1, has_liked: false } // Update likes_count and has_liked\r\n                        : post;\r\n                }),\r\n            }));\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className={styles.Post}>\r\n            <Card.Body>\r\n                <Media className=\"align-items-center justify-content-between\">\r\n                    <Link to={`/users/${user_id}`}>\r\n                        <Avatar src={profile_picture} height={55} />\r\n                        {author}\r\n                    </Link>\r\n                    <div className=\"d-flex align-items-center\">\r\n                        <span>{updated_at}</span>\r\n                        {is_author && postPage && (\r\n                            <MoreDropdown\r\n                                handleEdit={handleEdit}\r\n                                handleDelete={handleDelete}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </Media>\r\n            </Card.Body>\r\n            <Link to={`/posts/${id}`}>\r\n                <Card.Img src={image} alt={title} />\r\n            </Link>\r\n            <Card.Body>\r\n                {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\r\n                {game && <Card.Text>{game}</Card.Text>}\r\n                {content && <Card.Text>{content}</Card.Text>}\r\n                <div className={styles.PostBar}>\r\n                    {is_author ? (\r\n                        <OverlayTrigger\r\n                            placement=\"top\"\r\n                            overlay={<Tooltip>You can't like your own post!</Tooltip>}\r\n                        >\r\n                            <i className=\"far fa-heart\" />\r\n                        </OverlayTrigger>\r\n                    ) : has_liked ? (\r\n                        <span onClick={handleUnlike}>\r\n                            <i className={`fas fa-heart ${styles.Heart}`} />\r\n                        </span>\r\n                    ) : currentUser ? (\r\n                        <span onClick={handleLike}>\r\n                            <i className={`far fa-heart ${styles.HeartOutline}`} />\r\n                        </span>\r\n                    ) : (\r\n                        <OverlayTrigger\r\n                            placement=\"top\"\r\n                            overlay={<Tooltip>Log in to like posts!</Tooltip>}\r\n                        >\r\n                            <i className=\"far fa-heart\" />\r\n                        </OverlayTrigger>\r\n                    )}\r\n                    {likes_count}\r\n                    <Link to={`/posts/${id}`}>\r\n                        <i className=\"far fa-comments\" />\r\n                    </Link>\r\n                    {comments_count}\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport axios from \"../../api/axiosDefaults\";\r\n\r\nfunction CommentCreateForm(props) {\r\n    const { post, setPost, setComments, profilePicture, user_id } = props;\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        setContent(event.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const { data } = await axios.post(\"/comments/\", {\r\n                content,\r\n                post,\r\n            });\r\n            setComments((prevComments) => ({\r\n                ...prevComments,\r\n                results: [data, ...prevComments.results],\r\n            }));\r\n            setPost((prevPost) => ({\r\n                results: [\r\n                    {\r\n                        ...prevPost.results[0],\r\n                        comments_count: prevPost.results[0].comments_count + 1,\r\n                    },\r\n                ],\r\n            }));\r\n            setContent(\"\");\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n                <InputGroup>\r\n                    <Link to={`/users/${user_id}`}>\r\n                        <Avatar src={profilePicture} />\r\n                    </Link>\r\n                    <Form.Control\r\n                        className={styles.Form}\r\n                        placeholder=\"my comment...\"\r\n                        as=\"textarea\"\r\n                        value={content}\r\n                        onChange={handleChange}\r\n                        rows={2}\r\n                    />\r\n                </InputGroup>\r\n            </Form.Group>\r\n            <button\r\n                className={`${styles.Button} btn d-block ml-auto`}\r\n                disabled={!content.trim()}\r\n                type=\"submit\"\r\n            >\r\n                post\r\n            </button>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default CommentCreateForm;","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport axios from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\n\r\nfunction CommentEditForm(props) {\r\n    const { id, content, setShowEditForm, setComments } = props;\r\n\r\n    const [formContent, setFormContent] = useState(content);\r\n\r\n    const handleChange = (event) => {\r\n        setFormContent(event.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.put(`/comments/${id}/`, {\r\n                content: formContent.trim(),\r\n            });\r\n            setComments((prevComments) => ({\r\n                ...prevComments,\r\n                results: prevComments.results.map((comment) => {\r\n                    return comment.id === id\r\n                        ? {\r\n                            ...comment,\r\n                            content: formContent.trim(),\r\n                            updated_at: \"now\",\r\n                        }\r\n                        : comment;\r\n                }),\r\n            }));\r\n            setShowEditForm(false);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Form.Group className=\"pr-1\">\r\n                <Form.Control\r\n                    className={styles.Form}\r\n                    as=\"textarea\"\r\n                    value={formContent}\r\n                    onChange={handleChange}\r\n                    rows={2}\r\n                />\r\n            </Form.Group>\r\n            <div className=\"text-right\">\r\n                <button\r\n                    className={styles.Button}\r\n                    onClick={() => setShowEditForm(false)}\r\n                    type=\"button\"\r\n                >\r\n                    cancel\r\n                </button>\r\n                <button\r\n                    className={styles.Button}\r\n                    disabled={!formContent.trim()}\r\n                    type=\"submit\"\r\n                >\r\n                    save\r\n                </button>\r\n            </div>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default CommentEditForm;","import React, { useState } from \"react\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport CommentEditForm from \"./CommentEditForm\";\r\n\r\nimport styles from \"../../styles/Comment.module.css\";\r\n\r\n\r\nconst Comment = (props) => {\r\n    const {\r\n        user_id,\r\n        profile_picture,\r\n        author,\r\n        updated_at,\r\n        content,\r\n        id,\r\n        setPost,\r\n        setComments,\r\n    } = props;\r\n\r\n    const [showEditForm, setShowEditForm] = useState(false);\r\n\r\n    const currentUser = useCurrentUser();\r\n    const is_author = currentUser?.username === author;\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete(`/comments/${id}`);\r\n            setPost(prevPost => ({\r\n                results: prevPost.results.map(post => ({\r\n                    ...post,\r\n                    comments_count: Math.max(0, post.comments_count - 1)\r\n                }))\r\n            }));\r\n\r\n            setComments((prevComments) => ({\r\n                ...prevComments,\r\n                results: prevComments.results.filter((comment) => comment.id !== id),\r\n            }));\r\n        } catch (err) {\r\n            console.log(\"Error deleting comment:\", err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <Media>\r\n                <Link to={`/users/${user_id}`}>\r\n                    <Avatar src={profile_picture} />\r\n                </Link>\r\n                <Media.Body className=\"align-self-center ml-2\">\r\n                    <span className={styles.Author}>{author}</span>\r\n                    <span className={styles.Date}>{updated_at}</span>\r\n                    {showEditForm ? (\r\n                        <CommentEditForm\r\n                            id={id}\r\n                            user_id={user_id}\r\n                            content={content}\r\n                            profile_picture={profile_picture}\r\n                            setComments={setComments}\r\n                            setShowEditForm={setShowEditForm}\r\n                        />\r\n                    ) : (\r\n                        <p>{content}</p>\r\n                    )}\r\n                </Media.Body>\r\n                {is_author && !showEditForm && (\r\n                    <MoreDropdown\r\n                        handleEdit={() => setShowEditForm(true)}\r\n                        handleDelete={handleDelete}\r\n                    />\r\n                )}\r\n            </Media>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Comment;","import axios from \"../api/axiosDefaults\";\r\n\r\nexport const fetchMoreData = async (resource, setResource) => {\r\n    try {\r\n        const { data } = await axios.get(resource.next);\r\n        setResource((prevResource) => ({\r\n            ...prevResource,\r\n            next: data.next,\r\n            results: data.results.reduce((acc, cur) => {\r\n                return acc.some((accResult) => accResult.id === cur.id)\r\n                    ? acc\r\n                    : [...acc, cur];\r\n            }, prevResource.results),\r\n        }));\r\n    } catch (err) {}\r\n};","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useParams } from \"react-router\";\r\nimport Post from \"./Post\";\r\n\r\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport Comment from \"../comments/Comment\";\r\n\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Asset from \"../../components/Asset\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\n\r\nfunction PostPage() {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState({ results: [] });\r\n\r\n  const currentUser = useCurrentUser();\r\n  const profile_picture = currentUser?.profile_picture;\r\n  const [comments, setComments] = useState({ results: [], next: null });\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const [{ data: postData}, { data: commentsData }] = await Promise.all([\r\n          axios.get(`/posts/${id}`),\r\n          axios.get(`/comments/?post=${id}`),\r\n        ]);\r\n\r\n        setPost({ results: [postData] });\r\n        setComments(commentsData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [id]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <p>Popular profiles for mobile</p>\r\n        {post.results.length > 0 && (\r\n          <Post {...post.results[0]} setPost={setPost} postPage />\r\n        )}\r\n        <Container className={appStyles.Content}>\r\n          {currentUser ? (\r\n            <CommentCreateForm\r\n              user_id={currentUser.user_id}\r\n              profilePicture={profile_picture}\r\n              post={id}\r\n              setPost={setPost}\r\n              setComments={setComments}\r\n            />\r\n          ) : comments.results.length ? (\r\n            \"Comments\"\r\n          ) : null}\r\n          {comments.results.length ? (\r\n            <InfiniteScroll\r\n              dataLength={comments.results.length}\r\n              next={() => fetchMoreData(comments, setComments)}\r\n              hasMore={!!comments.next}\r\n              loader={<Asset spinner />}\r\n            >\r\n              {comments.results.map((comment) => (\r\n                <Comment\r\n                  key={comment.id}\r\n                  {...comment}\r\n                  setPost={setPost}\r\n                  setComments={setComments}\r\n                />\r\n              ))}\r\n            </InfiniteScroll>\r\n          ) : currentUser ? (\r\n            <span>No comments yet, be the first to comment!</span>\r\n          ) : (\r\n            <span>No comments... yet</span>\r\n          )}\r\n        </Container>\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        Popular profiles for desktop\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostPage;\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport axios from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\n\r\nconst UserDataContext = createContext();\r\nconst SetUserDataContext = createContext();\r\n\r\nexport const useUserData = () => useContext(UserDataContext);\r\nexport const useSetUserData = () => useContext(SetUserDataContext);\r\n\r\nexport const UserDataProvider = ({ children }) => {\r\n    const [userData, setUserData] = useState({\r\n        pageUser: { results: [] },\r\n        popularUsers: { results: [] },\r\n    });\r\n\r\n    const currentUser = useCurrentUser();\r\n\r\n    useEffect(() => {\r\n        const handleMount = async () => {\r\n            try {\r\n                const { data } = await axios.get(\"/users/?ordering=-level\");\r\n\r\n                // Ensure data is always in the format { results: [...] }\r\n                setUserData((prevState) => ({\r\n                    ...prevState,\r\n                    popularUsers: { results: Array.isArray(data) ? data : [] },\r\n                }));\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n\r\n        handleMount();\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <UserDataContext.Provider value={userData}>\r\n            <SetUserDataContext.Provider value={setUserData}>\r\n                {children}\r\n            </SetUserDataContext.Provider>\r\n        </UserDataContext.Provider>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../styles/User.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst User = (props) => {\r\n    const { user, mobile, imageSize = 55 } = props;\r\n    const { id, following_id, image} = user;\r\n\r\n    const currentUser = useCurrentUser();\r\n\r\n    return (\r\n        <div\r\n            className={`my-3 d-flex align-items-center ${mobile && \"flex-column\"}`}\r\n        >\r\n            <div>\r\n                <Link className=\"align-self-center\" to={`/users/${id}`}>\r\n                    <Avatar src={image} height={imageSize} />\r\n                </Link>\r\n            </div>\r\n            <div className={`mx-2 ${styles.WordBreak}`}>\r\n                <strong>{user.username}</strong>\r\n            </div>\r\n            <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n                {!mobile &&\r\n                    currentUser &&\r\n                    !user.username &&\r\n                    (following_id ? (\r\n                        <Button\r\n                            className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n                            onClick={() => {}}\r\n                        >\r\n                            unfollow\r\n                        </Button>\r\n                    ) : (\r\n                        <Button\r\n                            className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n                            onClick={() => {}}\r\n                        >\r\n                            follow\r\n                        </Button>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { useUserData } from \"../../contexts/UserDataContext\";\r\nimport User from \"./User\";\r\n\r\nconst PopularUsers = ({ mobile }) => {\r\n  const { popularUsers } = useUserData();\r\n\r\n  // Ensure popularUsers.results is an array and has content before accessing its length\r\n  const hasUsers = Array.isArray(popularUsers.results) && popularUsers.results.length > 0;\r\n\r\n  return (\r\n    <Container\r\n      className={`${appStyles.Content} ${\r\n        mobile && \"d-lg-none text-center mb-3\"\r\n      }`}\r\n    >\r\n      {hasUsers ? (\r\n        <>\r\n          <p>Highest Level Users.</p>\r\n          {mobile ? (\r\n            <div className=\"d-flex justify-content-around\">\r\n              {popularUsers.results.slice(0, 4).map((user) => (\r\n                <User key={user.id} user={user} mobile />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            popularUsers.results.map((user) => (\r\n              <User key={user.id} user={user} />\r\n            ))\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PopularUsers;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport Post from \"./Post\";\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport styles from \"../../styles/PostsPage.module.css\";\r\nimport { useLocation } from \"react-router\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport PopularUsers from \"../users/PopularUsers\";\r\n\r\nfunction PostsPage({ message, filter = \"\" }) {\r\n  const [posts, setPosts] = useState({ results: [] });\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const { pathname } = useLocation();\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const response = await axios.get(`/posts/`, {\r\n          params: { search: query, filter: filter }\r\n        });\r\n        if (response.data && Array.isArray(response.data.results)) {\r\n          setPosts(response.data);\r\n        } else {\r\n          console.error(\"Invalid response data:\", response.data);\r\n        }\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n        console.log(\"Error fetching posts:\", err)\r\n      }\r\n    };\r\n\r\n    setHasLoaded(false);\r\n    const timer = setTimeout(() => {\r\n      fetchPosts();\r\n    }, 1000);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [filter, query, pathname]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularUsers mobile />\r\n        <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n        <Form\r\n          className={styles.SearchBar}\r\n          onSubmit={(event) => event.preventDefault()}\r\n        >\r\n          <Form.Control\r\n            value={query}\r\n            onChange={(event) => setQuery(event.target.value)}\r\n            type=\"text\"\r\n            className=\"mr-sm-2\"\r\n            placeholder=\"Search posts...\"\r\n          />\r\n        </Form>\r\n\r\n        {hasLoaded ? (\r\n          <>\r\n            {(posts && posts.results && posts.results.length) ? (\r\n              <InfiniteScroll\r\n                children={posts.results.map((post) => (\r\n                  <Post key={post.id} {...post} setPosts={setPosts} />\r\n                ))}\r\n                dataLength={posts.results.length}\r\n                loader={<Asset spinner />}\r\n                hasMore={!!posts.next}\r\n                next={() => fetchMoreData(posts, setPosts)}\r\n              />\r\n            ) : (\r\n              <Container className={appStyles.Content}>\r\n                <Asset />\r\n              </Container>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularUsers />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostsPage;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport axios from \"../../api/axiosDefaults\";\r\nimport { useHistory, useParams } from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nfunction PostEditForm() {\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [postData, setPostData] = useState({\r\n        title: \"\",\r\n        game: \"\",\r\n        content: \"\",\r\n        image: \"\",\r\n    });\r\n    const { title, game, content, image } = postData;\r\n\r\n    const imageInput = useRef(null);\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        const handleMount = async () => {\r\n            try {\r\n                const { data } = await axios.get(`/posts/${id}/`)\r\n                const { title, game, content, image, is_author } = data;\r\n\r\n                is_author ? setPostData({ title, game, content, image }) : history.push(\"/\");\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n\r\n        handleMount();\r\n    }, [history, id]);\r\n\r\n    const handleChange = (event) => {\r\n        setPostData({\r\n            ...postData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const [imagePreview, setImagePreview] = useState(null); // State for image preview\r\n\r\n    const handleChangeImage = (event) => {\r\n        if (event.target.files.length) {\r\n            const file = event.target.files[0];\r\n\r\n            // Set image preview URL\r\n            setImagePreview(URL.createObjectURL(file));\r\n\r\n            setPostData({\r\n                ...postData,\r\n                image: file,\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        const authorId = parseInt(localStorage.getItem('user_id'), 10);\r\n\r\n        formData.append('title', title);\r\n        formData.append('game', game);\r\n        formData.append('content', content);\r\n        if (imageInput?.current?.files[0]) {\r\n            formData.append('image', imageInput.current.files[0]);\r\n        }\r\n        formData.append('author', authorId);\r\n\r\n        try {\r\n            await axios.put(`/posts/${id}/`, formData, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('access_token')}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n\r\n            history.push(`/posts/${id}`);\r\n        } catch (err) {\r\n            if (err.response?.status !== 401) {\r\n                setErrors(err.response?.data);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    const textFields = (\r\n        <div className=\"text-center\">\r\n            <Form.Group>\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Type the title of your post...\"\r\n                    value={title}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.title?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n\r\n            <Form.Group>\r\n                <Form.Label>Game</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    name=\"game\"\r\n                    placeholder=\"Type the name of the game...\"\r\n                    value={game}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.game?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n            <Form.Group>\r\n                <Form.Label>Content</Form.Label>\r\n                <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={6}\r\n                    name=\"content\"\r\n                    placeholder=\"Share the story behind your post...\"\r\n                    value={content}\r\n                    onChange={handleChange}\r\n                />\r\n            </Form.Group>\r\n            {errors?.content?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                    {message}\r\n                </Alert>\r\n            ))}\r\n\r\n            <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n                onClick={() => history.goBack()}\r\n            >\r\n                cancel\r\n            </Button>\r\n            <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n                save\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Row>\r\n                <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n                    <Container\r\n                        className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n                    >\r\n                        <Form.Group className=\"text-center\">\r\n                            {imagePreview ? (\r\n                                // If image exists, show the preview using Asset\r\n                                <img\r\n                                    src={imagePreview}\r\n                                    alt=\"\"\r\n                                    className=\"img-fluid mb-3\"\r\n                                    style={{ maxHeight: '200', objectFit: 'cover' }}\r\n                                />\r\n                            ) : (\r\n                                // If no image, show upload icon + message via Asset\r\n                                <Asset\r\n                                    message=\"Click or tap to upload an image\"\r\n                                    spinner={false}\r\n                                    src={null}\r\n                                />\r\n                            )}\r\n\r\n                            {/* Upload Button (appears even if image is shown) */}\r\n                            <Form.Label\r\n                                className={`${btnStyles.uploadButton} ${btnStyles.Blue} btn mt-3`}\r\n                                htmlFor=\"image-upload\"\r\n                            >\r\n                                {image ? \"Change the image\" : (\r\n                                    <div className=\"d-flex flex-column align-items-center\">\r\n                                        <i className=\"fa-solid fa-upload fa-3x mb-2\"></i>\r\n                                        Upload an image\r\n                                    </div>\r\n                                )}\r\n                            </Form.Label>\r\n\r\n                            {/* Hidden file input */}\r\n                            <Form.Control\r\n                                id=\"image-upload\"\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleChangeImage}\r\n                                ref={imageInput}\r\n                                className=\"d-none\"\r\n                            />\r\n                        </Form.Group>\r\n                        {errors?.image?.map((message, idx) => (\r\n                            <Alert variant=\"warning\" key={idx}>\r\n                                {message}\r\n                            </Alert>\r\n                        ))}\r\n                        <div className=\"d-md-none\">{textFields}</div>\r\n                    </Container>\r\n                </Col>\r\n                <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n                    <Container className={appStyles.Content}>{textFields}</Container>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default PostEditForm;","import styles from './App.module.css';\r\nimport NavBar from \"./components/NavBar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport \"./api/axiosDefaults\";\r\nimport SignUpForm from './pages/auth/SignUpForm';\r\nimport SignInForm from './pages/auth/SignInForm';\r\nimport PostCreateForm from './pages/posts/PostCreateForm';\r\nimport PostPage from \"./pages/posts/PostPage\";\r\nimport PostsPage from './pages/posts/PostsPage';\r\nimport PostEditForm from \"./pages/posts/PostEditForm\";\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className={styles.App}>\r\n      <NavBar />\r\n      <Container className={styles.Main}>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => (\r\n              <PostsPage message=\"No results found. Adjust the search keyword.\" />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/feed\"\r\n            render={() => (\r\n              <PostsPage\r\n                message=\"No results found. Adjust the search keyword or follow a user.\"\r\n                filter=\"followed\"\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/liked\"\r\n            render={() => (\r\n              <PostsPage\r\n                message=\"No results found. Adjust the search keyword or like a post.\"\r\n                filter=\"liked\"\r\n              />\r\n            )}\r\n          />\r\n          <Route exact path=\"/signin\" render={() => <SignInForm />} />\r\n          <Route exact path=\"/signup\" render={() => <SignUpForm />} />\r\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\r\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\r\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\r\n          <Route render={() => <p>Page not found!</p>} />\r\n        </Switch>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\r\nimport { UserDataProvider } from \"./contexts/UserDataContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <UserDataProvider>\r\n          <App />\r\n        </UserDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__ucaqW\",\"Main\":\"App_Main__2mzUn\",\"Content\":\"App_Content__3kRIm\",\"FillerImage\":\"App_FillerImage__2NazA\",\"Image\":\"App_Image__2QXsH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__35dpM\",\"Input\":\"SignInUpForm_Input__1lB2E\",\"Header\":\"SignInUpForm_Header__GI0pL\",\"Link\":\"SignInUpForm_Link__1yRUf\",\"Container\":\"SignInUpForm_Container__3m1ED\",\"SignInCol\":\"SignInUpForm_SignInCol__1SydU\",\"SignUpCol\":\"SignInUpForm_SignUpCol__2SJnI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__2YT7V\",\"NavLink\":\"NavBar_NavLink__3rnyW\",\"Active\":\"NavBar_Active__1MQRy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__3oB5H\",\"Button\":\"CommentCreateEditForm_Button__rLi4-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__1L3Qu\",\"Heart\":\"Post_Heart__2s88C\",\"HeartOutline\":\"Post_HeartOutline__Brq-Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__1kRIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__nx1p5\",\"Absolute\":\"MoreDropdown_Absolute__3EQ-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Author\":\"Comment_Author__2oH9B\",\"Date\":\"Comment_Date__2NTU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__N06WU\",\"SearchIcon\":\"PostsPage_SearchIcon__2uPqj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__28z96\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__2-QcN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"User_WordBreak__4ri_F\"};"],"sourceRoot":""}